# 总体设计

 

 **一、 系统说明** 
 1. 方案选择
	为了实现对于Markdown代码的编译，我们提出了两种不同的方案。具体情况如下：



|  | 方案1 | 方案2 |
| :------: | :------: | :------: |
| 思路 | 基于网页浏览器的Markdown编译器, 利用JavaScript等web前端语言 将 Markdown代码 翻译成编译结果相同的html代码， 最终提供用户实现该过程的web前端接口 | 基于桌面程序的Markdown编译器， 利用C++或其他面向对象语言完成对于Markdown代码的编译，并利用WPF等开发框架将便以结果可视化到软件窗口中，最终提供用户封装好的可执行文件 |
| 成本/效益 | 成本较低，不需要直接实现对于Markdown代码的编译；同时由于浏览器机制，解决了跨平台问题；但是也有不易维护，可移植性低以及不同浏览器拥有不同内核的问题 | 成本较高，编程复杂性主要体现在两方面：需要实现对于Markdown代码的编译；同时要考虑到多平台的实现问题。但是，实现之后安全性和可移植性较高 |
| 物理元素清单 | 编辑框，显示框，文件系统，web前端界面  | 编辑框，显示框，文件系统，可视化窗口界面  |


 - 系统流程图
	 ![系统流程图 ](http://on-img.com/chart_image/5b9136ffe4b08faf8c484bec.png)
	 
 - 软件结构
 为了充分展示软件所分成的模块，我们使用如下层次图进行进一步的分析。
 ![层次图](http://on-img.com/chart_image/5b9a80a0e4b015327adf1771.png?_=1536855117185)
 - 各模块算法
  为了充分展示软件所分成的模块，我们使用如下层次图进行进一步的分析。
	![enter image description here](http://on-img.com/chart_image/5b9a81e9e4b08faf8c53703a.png?_=1536855146826)

**二、 用户手册** 
#### 用户使用手册 ##
### 1. 编辑器主界面 ###
![Markdown文本编辑器主界面](https://github.com/HanBingfeng0221151602/Markdown/blob/master/images/%E4%B8%BB%E7%95%8C%E9%9D%A2.png)
>**当前界面使用说明：**  
>>**1.1 Markdown语言输入**  
&emsp;&emsp;当前界面的左侧为Markdown文法的输入框，用户在本区域中输入Markdown文法的文本信息，以供编译器进行编译；  
![输入框](https://github.com/HanBingfeng0221151602/Markdown/blob/master/images/%E8%BE%93%E5%85%A5%E6%A1%86.png)  
**1.2 Markdown文本输出**  
&emsp;&emsp;当前界面的右侧为Markdown文法的输出框，用户输入的文本的编译结果会在该区域进行显示；  
![输出框](https://github.com/HanBingfeng0221151602/Markdown/blob/master/images/%E8%BE%93%E5%87%BA%E6%A1%86.png)  
### 2. 编辑器侧滑菜单 ###
![Markdown文本编辑器侧滑菜单](https://github.com/HanBingfeng0221151602/Markdown/blob/master/images/%E4%BE%A7%E6%BB%91%E8%8F%9C%E5%8D%95.png)  
>**当前界面使用说明：**  
>>**2.1 侧滑菜单呼出**  
&emsp;&emsp;用户在主界面点击左上角的`房子图标`或`Menu文字`来呼出侧滑菜单；  
**2.2 菜单内容**  
>>>***2.2.1 新建***   
&emsp;&emsp;用户单击`新建`选项钮来*新建*一个Markdown文本；  
***2.2.2 打开***  
&emsp;&emsp;用户单击`打开`选项钮来*打开*一个Markdown文本(.md形式)；  
***2.2.3 保存***  
&emsp;&emsp;用户单击`保存`选项钮来*保存*一个Markdown文本(.md形式)；  
***2.2.4 另存为***  
&emsp;&emsp;用户单击`另存为`选项钮来将一个Markdown文本保存为`pdf`或`html`形式；  
### 3. 快捷键菜单 ###  
![快捷键菜单](https://github.com/HanBingfeng0221151602/Markdown/blob/master/images/%E5%BF%AB%E6%8D%B7%E9%94%AE.png)  
>**当前界面使用说明**  
>>**3.1 撤销**  
&emsp;&emsp;用户点击`撤销`按钮来反悔一次修改；  
**3.2 恢复**  
&emsp;&emsp;用户点击`恢复`按钮来恢复一次修改；  
![do](https://github.com/HanBingfeng0221151602/Markdown/blob/master/images/do.png)  
**3.3 粗体**  
&emsp;&emsp;用户点击`粗体`按钮来插入一段粗体文本；  
**3.4 斜体**  
&emsp;&emsp;用户点击`斜体`按钮来插入一段斜体文本；  
![BI](https://github.com/HanBingfeng0221151602/Markdown/blob/master/images/BI.png)  
**3.5 引用**  
&emsp;&emsp;用户点击`引用`按钮来插入一级引用；  
**3.6 强调**  
&emsp;&emsp;用户点击`强调`按钮来插入一段需要强调的文本；  
![引用](https://github.com/HanBingfeng0221151602/Markdown/blob/master/images/%E5%88%86%E7%BA%A7.png)  
**3.7 标题**  
&emsp;&emsp;用户可以通过点击`H1`和`H2`按钮加入一级标题或二级标题；  
![标题](https://github.com/HanBingfeng0221151602/Markdown/blob/master/images/%E6%A0%87%E9%A2%98.png)  
**3.8 超链接**  
&emsp;&emsp;用户点击`超链接`按钮可以插入一个超链接；  
**3.9 插入图片**  
&emsp;&emsp;用户点击`插入图片`按钮可以插入一个图片；  
![链接](https://github.com/HanBingfeng0221151602/Markdown/blob/master/images/%5B%5D().png)  

**三、 测试手册**
**1.测试策略**
	在进行单元测试的过程中，我们采取黑盒测试的测试策略，优点如下：
	
 - 对于较大的代码单元来说，黑盒测试比白盒测试效率较高。  
 - 测试人员不需要了解细节，包括特定的编程语言。  
 - 测试人员和开发人员是彼此独立的。  
 - 从用户的角度测试，很容易被理解和接受。  
 - 测试用例可以在需求规格完成之后马上执行。

**2.测试方案**  
#### &emsp;2.1&ensp;编辑模块 ####  
##### &emsp;&emsp;2.1.1&ensp;***在没有快捷键的情况下编辑Markdown代码*** #####  
|用例|用户希望编辑已打开的文档中的标记代码。|
|:----:|:----:|
|版本|1|
|创建日期|2018.09.12|
|目标|编辑Markdown代码以获得.pdf/.M./.HML文件。|
|总结|用户在读写框中编辑Markdown代码以显示最新版本代码。|
|动作发出者|用户|
|触发事件|当用户在编辑框中单击时，他可以开始更改框中的内容。|
|先决条件|存在一个可读写的文档并且它已经被打开。|
|频率|任何时候当用户想编辑Markdown代码。|
|后置条件|Markdown代码被更改且另一个框中可以看到编译结果。|  

|测试点|动作发出者|系统|
|:----:|:----:|:----:|
|1|在编辑框中单击||
|||在用户单击框中的位置上出现光标。 |
|2|编辑框中的内容。||
|||编辑框中的内容和编译结果都相应地变化。|  
##### &emsp;&emsp;2.1.2&ensp;***用快捷键编辑Markdown代码*** #####  
|用例|用户希望使用快捷键编辑已打开的文档中的Markdown代码。|
|:----:|:----:|
|版本|1|
|创建日期|2018.09.12|
|目标|编辑Markdown代码以获得.pdf/.M./.HML文件。|
|总结|用户使用快捷键来编辑读写框中的代码并显示最新版本的Markdown代码。|
|动作发出者|用户|
|触发事件|当用户在编辑框中单击时，他可以开始更改框中的内容。|
|先决条件|存在一个可读写的文档且它已经被打开。|
|频率|任何时候当用户想编辑Markdown代码。|
|后置条件|Markdown代码被更改且另一个框中可以看到编译结果。|  

|测试点|动作发出者|系统|
|:----:|:----:|:----:|
|1|在编辑框中单击||
|||在用户单击框中的位置上出现光标。|
|2|使用正确快捷键组合编辑框中的内容。||
|||编辑框中的内容和编译结果都相应地变化。|  
|3|使用未定义快捷键组合编辑框中的内容。||
|||显示框里的内容不会改变。|  
#### &emsp;2.2&ensp;显示模块 ####  
##### &emsp;&emsp;2.2.1&ensp;***显示编译结果*** ##### 
|用例|显示Markdown编译结果|
|:----:|:----:|
|版本|1|
|创建日期|2018.09.12|
|目标|在显示窗口中显示Markdown代码的编译结果。|
|总结|当用户在输入窗口中进行编码时，在显示窗口中实时显示Markdown代码的编译结果。|
|动作发出者|用户|
|触发事件|用户在输入窗口中输入代码（实时）|
|先决条件|输入窗口不是空白或</b>输入窗口有变化。|
|频率|当用户在输入窗口中进行更改时（实时）|
|后置条件|在显示窗口中显示了最新的编译结果|  

|测试点|动作发出者|系统|
|:----:|:----:|:----:|
|1|清空输入窗口。||
|||在显示窗口中什么也不显示。|
|2|在输入窗口中进行更改。||
|||重新编译Markdown代码并重新在显示窗口中显示新结果。|  
|3|当前输入对于Markdown语法无效。||
|||在显示窗口中直接显示输入的代码格式，不进行编译。|  
#### &emsp;2.3&ensp;文件系统模块 #### 
##### &emsp;&emsp;2.3.1&ensp;***新建文件*** #####  
|用例|新建一个编译文件|
|:----:|:----:|
|版本|1|
|创建日期|2018.09.12|
|目标|用空白的输入窗口和空白的显示窗口构建一个全新文件界面。|
|总结|用户有时需要同时编译两个或多个文件，因此需要准备编译新文件的功能。|
|动作发出者|用户|
|触发事件|用户点击“新文件”按钮。|
|先决条件|用户打开我们的网站。|
|频率|当用户点击“新文件”按钮时。|
|后置条件|在网站上显示了一个全新的文件，带有空白的输入窗口和空白的显示窗口。|  

|测试点|动作发出者|系统|
|:----:|:----:|:----:|
|1|点击“新文件”按钮。||
|||在网站上显示了一个全新的文件，带有空白的输入窗口和空白的显示窗口。|  
##### &emsp;&emsp;2.3.2&ensp;***加载Markdown文件*** #####  
|用例|加载一个Markdown文件|
|:----:|:----:|
|版本|1|
|创建日期|2018.09.12|
|目标|打开现有文件。|
|总结|用户单击“打开文件”按钮，打开一个.MD文件并编辑它。|
|动作发出者|用户|
|触发事件|点击“加载”按钮。|
|先决条件|用户进入编辑器页面。|
|频率|当任何时候用户想打开.MD文件。|
|后置条件|一个.MD文件打开并处于可编辑状态。|  

|测试点|动作发出者|系统|
|:----:|:----:|:----:|
|1|单击“加载文件”按钮||
|||弹出一个显示文件列表的窗口|
|2|选择其中一个文件并点击“打开”按钮||
|||一个.MD文件被打开并处于用户可编辑状态|
|3|单击“取消”按钮||
|||不打开任何文件并返回到编辑页面|
|4|打开新文件时，当前的编辑文档没有被保存||
|||询问是否打开一个新的.MD文件而不保存以前的文件|  
##### &emsp;&emsp;2.3.3&ensp;***保存 Markdown 文件*** #####  

|用例|保存Markdown 文件|  
|:----:|:----:|  
|版本|1|  
|创建日期|2018.09.12|  
|目标|保存一个已编辑的.md, .pdf or .htm 文件|  
|总结|用户单击“保存”按钮将一个.md文件保存到指定的地址|  
|动作发出者|用户|  
|触发事件|用户单击“保存”按钮|  
|先决条件|当用户在编辑页面打开或创建一个文件时|  
|频率|任何时候用户想要编辑一个文件时|  
|后置条件|.md 文件将被存入本地，用户可以继续编辑当前文件|
 

|测试点|动作发出者|系统|
|:----:|:----:|:----:|
|1|单击“保存文件”按钮||
|||系统显示保存地址选择窗口，用户选择保存当前.md文件
|2|单击“保存”按钮||
|||.md文件保存在本地，当前文本处于用户可编辑状态|
|3|单击“取消”按钮||
|||系统取消保存当前文本并返回文档的可编辑状态
|4|当前页面关闭时，当前编辑文档不会保存||
|||询问当前页面是否关闭而未保存|
|5|当.md文件名与现有文件冲突时，询问它是否被覆盖||
|||当用户选择“是”时，保存叠加层; 当用户选择取消时，为用户提供修改文件名的机会


**四、 实现计划** 

周|项目活动|可交付成果
|----------------------------------------|-------------------------------|-----------------------------|
| week1：<br>可行性研究和需求分析| 前期准备<br>分析需求<br>计划如何开发程序<br>|需求分析<br>发展计划    |
|week2:<br>整体设计|安排整体设计方案<br>起草用户手册 <br>讨论测试计划 |整体设计文档<br>用户手册草案<br>测试计划         |
|week3:<br>详细设计和编码      | 算法详解<br>定义数据结构<br>创建测试数据并设计测试过程<br>完成用户手册的最终版本<br>编码<br>单元测试| 算法设计说明<br>用户手册<br>程序的第一个版本|
|week4:<br>测试       |编写测试报告文档<br>联合测试 |测试报告文档|
